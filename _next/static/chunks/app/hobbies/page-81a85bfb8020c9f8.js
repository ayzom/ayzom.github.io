(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[269],{1913:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var a=i(5155),l=i(2115),n=i(5294),s=i.n(n);function o(){let[e,t]=(0,l.useState)([]),[i,n]=(0,l.useState)(null),[o,r]=(0,l.useState)(!0),[g,c]=(0,l.useState)(null);(0,l.useEffect)(()=>{fetch("https://ayzom-portfolio-insta-worker.polo.workers.dev/api/highlights").then(e=>e.json()).then(e=>{if(e.highlights){let i=e.highlights.filter(e=>!["Varanasi","Goa 2021"].includes(e.title));t(i),i.length>0&&n(i[0].id)}}).catch(console.error).finally(()=>r(!1))},[]);let d=e.find(e=>e.id===i);return(0,l.useEffect)(()=>{let e=e=>{if("Escape"===e.key)return void c(null);if(!g||!d)return;let t=d.items.findIndex(e=>e.id===g.id);if("ArrowRight"===e.key||"ArrowDown"===e.key){e.preventDefault();let i=(t+1)%d.items.length;c(d.items[i])}else if("ArrowLeft"===e.key||"ArrowUp"===e.key){e.preventDefault();let i=0===t?d.items.length-1:t-1;c(d.items[i])}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[g,d]),(0,a.jsxs)("section",{className:s().page,children:[(0,a.jsx)("h1",{children:"\uD83C\uDFAF Hobbies"}),(0,a.jsx)("p",{className:s().subtitle,children:"Things I enjoy, from my Instagram highlights"}),(0,a.jsx)("a",{href:"https://instagram.com/akhileshyolo",target:"_blank",rel:"noopener noreferrer",className:s().followBtn,children:"\uD83D\uDCF8 Follow @akhileshyolo"}),o?(0,a.jsx)("p",{className:s().loading,children:"Loading highlights..."}):e.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:s().tags,children:e.map(e=>(0,a.jsx)("button",{className:"".concat(s().tag," ").concat(i===e.id?s().activeTag:""),onClick:()=>n(e.id),children:e.title},e.id))}),d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:s().count,children:[d.items.length," items"]}),(0,a.jsx)("div",{className:s().gallery,children:d.items.map(e=>(0,a.jsx)("div",{className:s().card,onClick:()=>c(e),children:2===e.media_type&&e.video_url?(0,a.jsx)("video",{src:e.video_url,className:s().media}):(0,a.jsx)("img",{src:e.image_url,alt:"Highlight",className:s().media})},e.id))})]})]}):(0,a.jsx)("p",{className:s().noData,children:"No highlights found. Run: npm run fetch-highlights"}),g&&d&&(0,a.jsxs)("div",{className:s().lightbox,onClick:()=>c(null),children:[(0,a.jsx)("button",{className:s().closeBtn,onClick:()=>c(null),children:"\xd7"}),(0,a.jsx)("button",{className:s().navBtn+" "+s().prevBtn,onClick:e=>{e.stopPropagation();let t=d.items.findIndex(e=>e.id===g.id),i=0===t?d.items.length-1:t-1;c(d.items[i])},children:"‹"}),(0,a.jsx)("div",{className:s().lightboxContent,onClick:e=>e.stopPropagation(),children:2===g.media_type&&g.video_url?(0,a.jsx)("video",{src:g.video_url,controls:!0,autoPlay:!0,className:s().lightboxMedia}):(0,a.jsx)("img",{src:g.image_url,alt:"Highlight",className:s().lightboxMedia})}),(0,a.jsx)("button",{className:s().navBtn+" "+s().nextBtn,onClick:e=>{e.stopPropagation();let t=(d.items.findIndex(e=>e.id===g.id)+1)%d.items.length;c(d.items[t])},children:"›"}),(0,a.jsxs)("p",{className:s().counter,children:[d.items.findIndex(e=>e.id===g.id)+1," / ",d.items.length]})]})]})}},5294:e=>{e.exports={page:"page_page__q8KVq",subtitle:"page_subtitle__UVYnQ",followBtn:"page_followBtn__2TNyy",tags:"page_tags__rdl__",tag:"page_tag__Jl8OW",activeTag:"page_activeTag__AhXor",gallery:"page_gallery__is0cr",card:"page_card__qmmq6",media:"page_media__ApS_x",loading:"page_loading__Aebrd",noData:"page_noData__pk0XC",count:"page_count__atq2u",lightbox:"page_lightbox__FoumC",closeBtn:"page_closeBtn__zmsha",lightboxContent:"page_lightboxContent__CiPF_",lightboxMedia:"page_lightboxMedia__Fty5S",navBtn:"page_navBtn__bv2mE",prevBtn:"page_prevBtn__6Lnl5",nextBtn:"page_nextBtn__QOzh_",counter:"page_counter__PzMj_"}},5521:(e,t,i)=>{Promise.resolve().then(i.bind(i,1913))}},e=>{e.O(0,[53,441,255,358],()=>e(e.s=5521)),_N_E=e.O()}]);