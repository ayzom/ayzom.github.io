(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[607],{567:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var a=i(5155),n=i(2115),l=i(9802),s=i.n(l);function o(){let[e,t]=(0,n.useState)([]),[i,l]=(0,n.useState)(null),[o,r]=(0,n.useState)(!0),[d,g]=(0,n.useState)(null);(0,n.useEffect)(()=>{fetch("https://ayzom-portfolio-insta-worker.polo.workers.dev/api/highlights").then(e=>e.json()).then(e=>{if(e.highlights){let i=e.highlights.filter(e=>!["Varanasi","Goa 2021"].includes(e.title));t(i),i.length>0&&l(i[0].id)}}).catch(console.error).finally(()=>r(!1))},[]);let c=e.find(e=>e.id===i);return(0,n.useEffect)(()=>{let e=e=>{if("Escape"===e.key)return void g(null);if(!d||!c)return;let t=c.items.findIndex(e=>e.id===d.id);if("ArrowRight"===e.key||"ArrowDown"===e.key){e.preventDefault();let i=(t+1)%c.items.length;g(c.items[i])}else if("ArrowLeft"===e.key||"ArrowUp"===e.key){e.preventDefault();let i=0===t?c.items.length-1:t-1;g(c.items[i])}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[d,c]),(0,a.jsxs)("section",{className:s().page,children:[(0,a.jsx)("h1",{children:"\uD83C\uDFAF Hobbies"}),(0,a.jsx)("p",{className:s().subtitle,children:"Things I enjoy, from my Instagram highlights"}),(0,a.jsx)("a",{href:"https://instagram.com/akhileshyolo",target:"_blank",rel:"noopener noreferrer",className:s().followBtn,children:"\uD83D\uDCF8 Follow @akhileshyolo"}),o?(0,a.jsx)("p",{className:s().loading,children:"Loading highlights..."}):e.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:s().tags,children:e.map(e=>(0,a.jsx)("button",{className:"".concat(s().tag," ").concat(i===e.id?s().activeTag:""),onClick:()=>l(e.id),children:e.title},e.id))}),c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:s().count,children:[c.items.length," items"]}),(0,a.jsx)("div",{className:s().gallery,children:c.items.map(e=>(0,a.jsx)("div",{className:s().card,onClick:()=>g(e),children:2===e.media_type&&e.video_url?(0,a.jsx)("video",{src:e.video_url,className:s().media}):(0,a.jsx)("img",{src:e.image_url,alt:"Highlight",className:s().media})},e.id))})]})]}):(0,a.jsx)("p",{className:s().noData,children:"No highlights found. Run: npm run fetch-highlights"}),d&&c&&(0,a.jsxs)("div",{className:s().lightbox,onClick:()=>g(null),children:[(0,a.jsx)("button",{className:s().closeBtn,onClick:()=>g(null),children:"\xd7"}),(0,a.jsx)("button",{className:s().navBtn+" "+s().prevBtn,onClick:e=>{e.stopPropagation();let t=c.items.findIndex(e=>e.id===d.id),i=0===t?c.items.length-1:t-1;g(c.items[i])},children:"‹"}),(0,a.jsx)("div",{className:s().lightboxContent,onClick:e=>e.stopPropagation(),children:2===d.media_type&&d.video_url?(0,a.jsx)("video",{src:d.video_url,controls:!0,autoPlay:!0,className:s().lightboxMedia}):(0,a.jsx)("img",{src:d.image_url,alt:"Highlight",className:s().lightboxMedia})}),(0,a.jsx)("button",{className:s().navBtn+" "+s().nextBtn,onClick:e=>{e.stopPropagation();let t=(c.items.findIndex(e=>e.id===d.id)+1)%c.items.length;g(c.items[t])},children:"›"}),(0,a.jsxs)("p",{className:s().counter,children:[c.items.findIndex(e=>e.id===d.id)+1," / ",c.items.length]})]})]})}},8015:(e,t,i)=>{Promise.resolve().then(i.bind(i,567))},9802:e=>{e.exports={page:"page_page__X8fIM",subtitle:"page_subtitle__v5Loo",soundcloudContainer:"page_soundcloudContainer___Nasb",soundcloudEmbed:"page_soundcloudEmbed__WrP_P",followBtn:"page_followBtn__8FkOo",tags:"page_tags__4gZJ_",tag:"page_tag__VGPwa",activeTag:"page_activeTag__HiUAJ",gallery:"page_gallery__L_YFA",card:"page_card___JCkb",media:"page_media__sjB1M",loading:"page_loading__AE805",noData:"page_noData__RGfZi",count:"page_count__yuGdG",lightbox:"page_lightbox__qd9yS",closeBtn:"page_closeBtn__vlVzE",lightboxContent:"page_lightboxContent__h_GJC",lightboxMedia:"page_lightboxMedia__TyHp8",navBtn:"page_navBtn__Ns6Vu",prevBtn:"page_prevBtn__C4HFF",nextBtn:"page_nextBtn__xI1uh",counter:"page_counter__p_DnY"}}},e=>{e.O(0,[885,441,255,358],()=>e(e.s=8015)),_N_E=e.O()}]);